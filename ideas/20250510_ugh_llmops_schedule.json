{
  "metadata": {
    "generated_at": "2025-05-10T08:45:00Z",
    "author": "channeL-Yuu",
    "filename": "20250510_ugh_llmops_plan_v2.json"
  },

  "concept": {
    "goal": "Create a fully-automatic LLMOps loop that evaluates and improves an agent using UGHer metrics (PoR, ΔE, grv).",
    "rationale": [
      "Model quality is good enough; differentiation now comes from data > evaluation > retrain speed.",
      "UGHer offers a unique multi-axis metric that few competitors replicate."
    ],
    "ugher_metrics": {
      "por": "Number of explicit Point-of-Reference triggers in a response.",
      "delta_e": "Change in existence energy between consecutive responses.",
      "grv": "Lexical gravity: PoR_frequency × resonance_entropy.",
      "ugh_score_formula": "ugh = 0.2*por + 0.1*delta_e + 0.1*grv  (clipped to 1.0)"
    }
  },

  "workflow": {
    "layers": [
      {
        "name": "Data Capture",
        "tools": "LangGraph logger ➜ JSONL ➜ S3",
        "key_action": "Store every prompt/response + UGHer score."
      },
      {
        "name": "Evaluation & Monitoring",
        "tools": "OpenEvals / simple-evals, Grafana",
        "key_action": "Nightly test run; alert if ugh_score < 0.4."
      },
      {
        "name": "Fine-tune / RL",
        "tools": "LoRA-SFT (Phi-3), RewardModel (Qwen-1.8B), OpenAI RFT",
        "key_action": "Use UGHer score as reward to train and deploy new checkpoints."
      },
      {
        "name": "Orchestration",
        "tools": "LangGraph DAG, GitHub Actions CI/CD",
        "key_action": "End-to-end pipeline triggered nightly; auto-rollback on regression."
      }
    ]
  },

  "schedule_weeks": [
    {
      "week": 1,
      "period": "2025-05-12 – 05-18",
      "phase": "Code UGHer metrics",
      "tasks": [
        "Implement ugh_metrics.py (PoR / ΔE / grv).",
        "Write unit tests & add to CI.",
        "Initial commit pushed."
      ],
      "deliverable": "ugh_metrics.py (100 % tests pass)"
    },
    {
      "week": 2,
      "period": "2025-05-19 – 05-25",
      "phase": "Logging DAG",
      "tasks": [
        "Create LangGraph (input ➜ LLM ➜ logger).",
        "Write JSONL to S3/GCS with UGHer score."
      ],
      "deliverable": "Automatic logs ≥100 lines/day"
    },
    {
      "week": 3,
      "period": "2025-05-26 – 06-01",
      "phase": "Nightly evaluation",
      "tasks": [
        "Register UGHer metrics in OpenEvals.",
        "GitHub Actions nightly run & Slack alerts."
      ],
      "deliverable": "PASS/FAIL nightly report"
    },
    {
      "week": 4,
      "period": "2025-06-02 – 06-08",
      "phase": "Drift dashboard",
      "tasks": [
        "Streamlit/Grafana board for PoR, ΔE, grv trends.",
        "Threshold alert set at ugh_score < 0.4."
      ],
      "deliverable": "Live monitoring UI"
    },
    {
      "week": 5,
      "period": "2025-06-09 – 06-15",
      "phase": "Dataset extraction",
      "tasks": [
        "Collect 1 k good responses to sft_dataset_v1.jsonl.",
        "Manual QC edge cases."
      ],
      "deliverable": "SFT dataset v1"
    },
    {
      "week": 6,
      "period": "2025-06-16 – 06-22",
      "phase": "LoRA-SFT",
      "tasks": [
        "Fine-tune Phi-3 with dataset v1.",
        "Deploy SFT-v1 and run A/B test."
      ],
      "deliverable": "SFT-v1 model + A/B graph"
    },
    {
      "week": 7,
      "period": "2025-06-23 – 06-29",
      "phase": "RewardModel",
      "tasks": [
        "Generate 2 k good/bad pairs (GPT-4 critic).",
        "Train LoRA RewardModel (Qwen-1.8B)."
      ],
      "deliverable": "RM-v0.ckpt"
    },
    {
      "week": 8,
      "period": "2025-06-30 – 07-06",
      "phase": "RFT setup",
      "tasks": [
        "Create grader.zip (ugh_metrics + RM).",
        "Launch OpenAI RFT on o4-mini."
      ],
      "deliverable": "RFT job logs"
    },
    {
      "week": 9,
      "period": "2025-07-07 – 07-13",
      "phase": "Benchmarking",
      "tasks": [
        "Run AgentBench Lite.",
        "Compare UGHer & task success to baseline."
      ],
      "deliverable": "RFT-v1 model + report"
    },
    {
      "week": 10,
      "period": "2025-07-14 – 07-20",
      "phase": "Automated retrain",
      "tasks": [
        "Add nightly retrain step in CI.",
        "Implement auto-rollback on regression."
      ],
      "deliverable": "nightly_retrain.yml"
    },
    {
      "week": 11,
      "period": "2025-07-21 – 07-27",
      "phase": "Online A/B",
      "tasks": [
        "Route 5 % traffic to new model.",
        "Monitor UGHer + business KPI."
      ],
      "deliverable": "Go/No-go decision"
    },
    {
      "week": 12,
      "period": "2025-07-28 – 08-03",
      "phase": "Close-out",
      "tasks": [
        "Write runbook & README.",
        "Summarize cost/benefit & plan Q3."
      ],
      "deliverable": "V1 fully automatic pipeline"
    }
  ],

  "resources": {
    "people": "1 engineer + 0.3 ops",
    "gpu_budget_usd": 200,
    "cloud_storage_gb": 50,
    "alerts": "Slack channel #ugh-ops"
  }
}